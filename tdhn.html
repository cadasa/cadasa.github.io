<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Tour de Hanoi - 2022</title>
<meta content="https://cadasa.github.io/tdhn.jpg" property="og:image"/>
<meta content="text/html; charset=UTF-8" property="og:type"/>
<meta content="https://cadasa.github.io/tdhn.html" property="og:url"/>
<meta content="Tour de Hanoi - 2022" property="og:title"/>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.0.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.0.1/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css">
<!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
<div id="map"></div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiY2FkYXNhIiwiYSI6ImNraWc1aTF2YjFpNWkycnBvZGs4a3ZrajEifQ.oy_ctBheuCWfip4-ou7akg';
var map = new mapboxgl.Map({
container: 'map',
zoom: 17.5,
center: [105.841427, 21.001891],
pitch: 73,
bearing: 0,
style: 'mapbox://styles/mapbox-map-design/ckhqrf2tz0dt119ny6azh975y'
});

map.on('load', function () {
map.addSource('mapbox-dem', {
'type': 'raster-dem',
'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',
'tileSize': 512,
'maxzoom': 14
});
// add the DEM source as a terrain layer with exaggerated height
map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });

// add a sky layer that will show when the map is highly pitched
map.addLayer({
'id': 'sky',
'type': 'sky',
'paint': {
'sky-type': 'atmosphere',
'sky-atmosphere-sun': [0.0, 0.0],
'sky-atmosphere-sun-intensity': 15
}
});
});
map.addControl(
new MapboxGeocoder({
accessToken: mapboxgl.accessToken,
mapboxgl: mapboxgl
})
);
map.addControl(new mapboxgl.FullscreenControl());
map.addControl(new mapboxgl.NavigationControl());
// Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
trackUserLocation: true
})
);

map.on('load', function () {
map.addSource('route', {
'type': 'geojson',
'data': {
		"type": "Feature",
		"geometry": {
			"type": "MultiLineString",
			"coordinates": [[[105.84133, 21.0041, 13.0], [105.84132, 21.00412, 13.0], [105.84131, 21.00413, 13.0], [105.8413, 21.00415, 13.0], [105.84128, 21.00418, 13.0], [105.84123, 21.0042, 12.0], [105.84123, 21.00426, 13.0], [105.84123, 21.00435, 13.0], [105.84129, 21.00615, 10.0], [105.8413, 21.00705, 7.0], [105.84128, 21.00759, 7.0], [105.84129, 21.0078, 10.0], [105.84127, 21.00832, 14.0], [105.84128, 21.00866, 15.0], [105.84132, 21.00889, 16.0], [105.84133, 21.00896, 16.0], [105.84134, 21.00973, 16.0], [105.84134, 21.00998, 17.0], [105.84135, 21.01039, 14.0], [105.84135, 21.01073, 12.0], [105.84137, 21.01107, 12.0], [105.84137, 21.01165, 11.0], [105.84137, 21.01206, 11.0], [105.84138, 21.01224, 11.0], [105.84139, 21.0135, 11.0], [105.8414, 21.01425, 14.0], [105.84141, 21.01458, 12.0], [105.84141, 21.01483, 12.0], [105.84142, 21.01497, 12.0], [105.84142, 21.01522, 14.0], [105.84142, 21.01525, 14.0], [105.84143, 21.0161, 12.0], [105.84143, 21.01671, 14.0], [105.8414, 21.01742, 15.0], [105.8414, 21.01764, 19.0], [105.84138, 21.01786, 22.0], [105.84138, 21.01821, 23.0], [105.84139, 21.01884, 15.0], [105.84142, 21.01943, 12.0], [105.84141, 21.01992, 14.0], [105.84141, 21.02066, 13.0], [105.84141, 21.02112, 13.0], [105.84144, 21.02219, 13.0], [105.84145, 21.02277, 13.0], [105.84145, 21.02293, 12.0], [105.84144, 21.02311, 12.0], [105.84144, 21.02329, 12.0], [105.84144, 21.02347, 12.0], [105.84143, 21.02365, 13.0], [105.84142, 21.02414, 15.0], [105.84143, 21.02479, 14.0], [105.84148, 21.02595, 15.0], [105.8415, 21.02652, 16.0], [105.84154, 21.02764, 14.0], [105.84154, 21.02782, 13.0], [105.84154, 21.02824, 14.0], [105.84153, 21.02883, 14.0], [105.84155, 21.02958, 17.0], [105.84161, 21.0298, 18.0], [105.84165, 21.0299, 18.0], [105.84171, 21.03, 19.0], [105.84135, 21.03037, 19.0], [105.8411, 21.03065, 17.0], [105.84085, 21.03092, 15.0], [105.84047, 21.03137, 17.0], [105.84036, 21.03146, 18.0], [105.84018, 21.0316, 19.0], [105.83904, 21.03279, 21.0], [105.83899, 21.03284, 21.0], [105.83888, 21.03298, 21.0], [105.83852, 21.03331, 18.0], [105.83824, 21.03362, 19.0], [105.83778, 21.03411, 22.0], [105.83699, 21.03494, 20.0], [105.837, 21.03495, 20.0], [105.83701, 21.03496, 20.0], [105.83701, 21.03497, 20.0], [105.83701, 21.03498, 20.0], [105.83701, 21.03499, 20.0], [105.83702, 21.035, 20.0], [105.83702, 21.03501, 20.0], [105.83702, 21.03502, 20.0], [105.83702, 21.03503, 20.0], [105.83701, 21.03506, 20.0], [105.837, 21.03508, 20.0], [105.837, 21.03509, 20.0], [105.83699, 21.0351, 20.0], [105.83699, 21.03511, 20.0], [105.83698, 21.03511, 20.0], [105.83698, 21.03512, 20.0], [105.83697, 21.03513, 20.0], [105.83696, 21.03513, 20.0], [105.83695, 21.03514, 20.0], [105.83694, 21.03515, 20.0], [105.83693, 21.03515, 20.0], [105.83692, 21.03515, 20.0], [105.83691, 21.03516, 20.0], [105.8369, 21.03516, 20.0], [105.83689, 21.03516, 20.0], [105.83688, 21.03516, 20.0], [105.83687, 21.03516, 20.0], [105.83686, 21.03516, 20.0], [105.83685, 21.03516, 20.0], [105.83684, 21.03516, 19.0], [105.83683, 21.03516, 19.0], [105.83682, 21.03516, 19.0], [105.83681, 21.03516, 19.0], [105.8368, 21.03515, 19.0], [105.83679, 21.03515, 19.0], [105.83679, 21.03514, 19.0], [105.83678, 21.03514, 19.0], [105.83676, 21.03513, 19.0], [105.83676, 21.03512, 19.0], [105.83634, 21.03547, 18.0], [105.8363, 21.03552, 17.0], [105.83629, 21.03557, 17.0], [105.83629, 21.03562, 16.0], [105.83648, 21.03631, 13.0], [105.83654, 21.03659, 14.0], [105.83703, 21.03885, 22.0], [105.83685, 21.03888, 20.0], [105.83568, 21.03908, 21.0], [105.83589, 21.04009, 16.0], [105.83604, 21.0408, 19.0], [105.83619, 21.04149, 17.0], [105.83622, 21.04165, 18.0], [105.8363, 21.04203, 19.0], [105.8363, 21.04212, 19.0], [105.83629, 21.04222, 19.0], [105.83626, 21.04234, 19.0], [105.83622, 21.04244, 19.0], [105.83615, 21.04255, 19.0], [105.83608, 21.04261, 20.0], [105.83597, 21.04271, 19.0], [105.83593, 21.04279, 19.0], [105.83592, 21.04285, 19.0], [105.83593, 21.04293, 18.0], [105.83594, 21.04301, 18.0], [105.83599, 21.04313, 18.0], [105.83607, 21.04331, 18.0], [105.83618, 21.0436, 17.0], [105.83629, 21.04387, 16.0], [105.83632, 21.04398, 16.0], [105.83634, 21.0441, 16.0], [105.83638, 21.04442, 9.0], [105.83639, 21.04462, 9.0], [105.83641, 21.04497, 9.0], [105.83648, 21.04545, 9.0], [105.83651, 21.04568, 9.0], [105.83654, 21.04594, 9.0], [105.83658, 21.04617, 9.0], [105.83664, 21.04643, 9.0], [105.83672, 21.04667, 9.0], [105.83676, 21.04681, 9.0], [105.8368, 21.04687, 9.0], [105.83684, 21.04693, 9.0], [105.83694, 21.04703, 9.0], [105.83728, 21.04734, 9.0], [105.83756, 21.04759, 9.0], [105.83784, 21.04785, 9.0], [105.83785, 21.04785, 9.0], [105.83795, 21.04796, 9.0], [105.83797, 21.04798, 9.0], [105.83804, 21.04807, 9.0], [105.8381, 21.04815, 9.0], [105.83847, 21.04858, 9.0], [105.83859, 21.04876, 9.0], [105.83864, 21.04884, 9.0], [105.83871, 21.04898, 9.0], [105.83878, 21.04911, 11.0], [105.83879, 21.04912, 11.0], [105.83886, 21.04927, 14.0], [105.83895, 21.04946, 18.0], [105.83898, 21.04952, 19.0], [105.83907, 21.04968, 22.0], [105.8391, 21.04971, 24.0], [105.83929, 21.04995, 24.0], [105.83927, 21.05009, 22.0], [105.83925, 21.05021, 19.0], [105.83918, 21.05083, 16.0], [105.83918, 21.05104, 18.0], [105.83911, 21.05109, 18.0], [105.83885, 21.05134, 20.0], [105.83877, 21.05141, 20.0], [105.83845, 21.0517, 19.0], [105.83818, 21.05193, 19.0], [105.83792, 21.05221, 21.0], [105.83784, 21.05231, 21.0], [105.8378, 21.05235, 21.0], [105.83778, 21.05237, 21.0], [105.83765, 21.05254, 20.0], [105.8376, 21.05258, 19.0], [105.83732, 21.05286, 19.0], [105.83706, 21.05311, 19.0], [105.83698, 21.0532, 19.0], [105.83696, 21.05322, 19.0], [105.83689, 21.05333, 19.0], [105.83674, 21.05354, 20.0], [105.83672, 21.05358, 20.0], [105.83653, 21.05387, 19.0], [105.83651, 21.05389, 19.0], [105.83638, 21.05408, 18.0], [105.83635, 21.05413, 18.0], [105.83627, 21.05429, 18.0], [105.83624, 21.05436, 18.0], [105.83622, 21.05439, 18.0], [105.83609, 21.05464, 19.0], [105.83597, 21.05486, 18.0], [105.83574, 21.05533, 18.0], [105.83543, 21.05592, 15.0], [105.83535, 21.05612, 16.0], [105.83518, 21.05644, 16.0], [105.8351, 21.05658, 15.0], [105.83509, 21.0566, 15.0], [105.83483, 21.05711, 16.0], [105.83463, 21.05752, 18.0], [105.83451, 21.05777, 18.0], [105.83423, 21.05829, 15.0], [105.83418, 21.05843, 16.0], [105.83416, 21.05855, 17.0], [105.83412, 21.05891, 17.0], [105.83402, 21.05892, 16.0], [105.83396, 21.05917, 17.0], [105.83383, 21.0595, 17.0], [105.83357, 21.05987, 17.0], [105.83346, 21.06002, 19.0], [105.83333, 21.06019, 18.0], [105.83312, 21.06043, 17.0], [105.83278, 21.06081, 16.0], [105.83272, 21.06092, 16.0], [105.83252, 21.06099, 17.0], [105.8323, 21.06105, 18.0], [105.83189, 21.0612, 19.0], [105.83105, 21.06164, 23.0], [105.83071, 21.06182, 20.0], [105.83035, 21.06205, 15.0], [105.8297, 21.06256, 19.0], [105.82943, 21.06278, 18.0], [105.82929, 21.06293, 17.0], [105.82906, 21.06318, 15.0], [105.82904, 21.0632, 15.0], [105.82878, 21.06351, 14.0], [105.82845, 21.06395, 10.0], [105.82831, 21.06414, 9.0], [105.82819, 21.06429, 11.0], [105.82811, 21.06439, 13.0], [105.82805, 21.06447, 15.0], [105.82772, 21.06492, 17.0], [105.82766, 21.06499, 17.0], [105.82762, 21.06507, 16.0], [105.82731, 21.06554, 15.0], [105.8273, 21.06556, 15.0], [105.82701, 21.06592, 15.0], [105.82674, 21.06617, 18.0], [105.82656, 21.06637, 18.0], [105.82652, 21.06647, 17.0], [105.82647, 21.06659, 16.0], [105.82637, 21.06683, 14.0], [105.82624, 21.0672, 12.0], [105.82615, 21.0675, 14.0], [105.8261, 21.06773, 14.0], [105.82606, 21.06791, 16.0], [105.82596, 21.06793, 16.0], [105.82578, 21.06797, 17.0], [105.82559, 21.068, 17.0], [105.8254, 21.06804, 17.0], [105.82516, 21.06814, 17.0], [105.82488, 21.06827, 16.0], [105.82482, 21.0683, 16.0], [105.82477, 21.06833, 16.0], [105.82474, 21.06835, 16.0], [105.82465, 21.06841, 16.0], [105.82449, 21.06853, 16.0], [105.82436, 21.06864, 17.0], [105.82435, 21.06867, 17.0], [105.82424, 21.06879, 17.0], [105.82415, 21.06891, 17.0], [105.8241, 21.06902, 17.0], [105.82404, 21.06914, 17.0], [105.82398, 21.06926, 17.0], [105.82391, 21.06939, 17.0], [105.82388, 21.06944, 16.0], [105.82384, 21.06951, 16.0], [105.82374, 21.06966, 15.0], [105.82363, 21.06975, 14.0], [105.8236, 21.06978, 14.0], [105.82351, 21.06986, 14.0], [105.82346, 21.06991, 14.0], [105.82339, 21.06998, 14.0], [105.82333, 21.07004, 14.0], [105.8232, 21.07018, 14.0], [105.82307, 21.07031, 14.0], [105.82294, 21.07045, 11.0], [105.82285, 21.07057, 10.0], [105.82271, 21.07074, 9.0], [105.82258, 21.07091, 9.0], [105.82246, 21.07105, 9.0], [105.82233, 21.07118, 9.0], [105.82224, 21.07127, 9.0], [105.82201, 21.0715, 9.0], [105.82197, 21.07156, 9.0]]],
			"bbox": [105.84171, 21.07156, 105.82197, 21.0041]
		}
}
});
map.addLayer({
'id': 'route',
'type': 'line',
'source': 'route',
'layout': {
'line-join': 'round',
'line-cap': 'round'
},
'paint': {
'line-color': 'red',
'line-width': 5
}
});
});
// The 'building' layer in the mapbox-streets vector source contains building-height
// data from OpenStreetMap.
map.on('load', function () {
// Insert the layer beneath any symbol layer.
var layers = map.getStyle().layers;

var labelLayerId;
for (var i = 0; i < layers.length; i++) {
if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {
labelLayerId = layers[i].id;
break;
}
}

map.addLayer(
{
'id': '3d-buildings',
'source': 'composite',
'source-layer': 'building',
'filter': ['==', 'extrude', 'true'],
'type': 'fill-extrusion',
'minzoom': 15,
'paint': {
'fill-extrusion-color': '#aaa',

// use an 'interpolate' expression to add a smooth transition effect to the
// buildings as the user zooms in
'fill-extrusion-height': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'height']
],
'fill-extrusion-base': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'min_height']
],
'fill-extrusion-opacity': 0.6
}
},
labelLayerId
);
});
</script>

</body>
</html>
